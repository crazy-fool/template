var CP="cloudui-colorpicker",_focus=!1;$.extend({clouduiColorpicker:function(a,b){var c,d=a.position(),e=d.left+a.outerWidth()+4,f=d.top,g='<div class="'+CP+'" style="left:'+e+"px; top:"+f+'px;"></div>';a.after(g).next("."+CP).click(function(){if(0==$("#"+CP).length){var b=new Array("00","33","66","99","CC","FF"),d=new Array("FF0000","00FF00","0000FF","FFFF00","00FFFF","FF00FF");for(g="",g+='<div id="'+CP+'"><table>',g+="<tr>",g+='<td colspan="21" class="'+CP+'-title">',g+='<div style="background:#000;"></div>',g+="<div>#000000</div>",g+="</td>",g+='</tr><tbody class="'+CP+'-colorBox">',i=0;i<2;i++)for(j=0;j<6;j++){for(g+="<tr>",g+=0==i?'<td style="background:#'+b[j]+b[j]+b[j]+'" color="#'+b[j]+b[j]+b[j]+'"></td>':'<td style="background:#'+d[j]+'" color="#'+d[j]+'"></td>',k=0;k<3;k++)for(l=0;l<6;l++)g+='<td style="background:#'+b[k+3*i]+b[l]+b[j]+'" color="#'+b[k+3*i]+b[l]+b[j]+'"></td>';g+="</tr>"}g+="</tbody></table></div>",$("body").append(g),c=$("#"+CP);var e;c.find("."+CP+"-colorBox").find("td").click(function(){c.hide(),a.css("color",e).next("input").val(e)}).mouseover(function(){e=$(this).attr("color"),c.find("div").eq(0).css("background",e),c.find("div").eq(1).html(e)}),c.blur(function(){_focus||c.hide()})}else c=$("#"+CP);c.css({left:$(this).offset().left+30,top:$(this).offset().top}).show().attr("tabindex",0).focus()}).mouseover(function(){_focus=!0}).mouseout(function(){_focus=!1});var h=void 0==b.inputName?"colorpicker":b.inputName;a.after('<input name="'+h+'" type="hidden">')}});